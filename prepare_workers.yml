- name: Prepare the code to run on the remote
  hosts: clusters
  tasks:
    - name: Install yum packages
      ansible.builtin.yum:
        name: "{{ packages }}"
      become: true
      vars:
        packages:
        - python
        - python-pip
        - unzip
        - wget
        - git
    - name: install pip package
      ansible.builtin.pip:
        name:
          - awscli
          - biopython
          - torch
          - numpy
          - scipy
        state: present

    - name: Download repo of assigning task from github
      git:
        repo: "https://github.com/mruiyangyou/comp02530test"
        dest: "~/comp0235test"